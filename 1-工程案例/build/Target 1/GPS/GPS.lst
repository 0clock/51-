C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE GPS
OBJECT MODULE PLACED IN .\build\Target 1\GPS\GPS.o
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.exe .\GPS\GPS.C PRINT(.\build\Target 1\GPS\GPS.lst) OMF2 TABS(4) CODE NOCOND
                    - SYMBOLS OPTIMIZE(8,SPEED) SMALL ROM(LARGE) INCDIR(.\null\INC\Atmel;.\0.96°ÆOLED-SPI;.\0.96°ÆOLED-SPI\BMP;.\USER;.\delay
                    -;.\∞¥º¸;.\BMEBMP280;.\IIC;.\GPS;.\SPI;.\–˝◊™±‡¬Î∆˜;.\1.54'TFT;.\..\..\..\..\..\Keil_v5\C51\INC) DEFINE(__UVISION_VERSION
                    -=526) OBJECT(.\build\Target 1\GPS\GPS.o)

line level    source

   1          #include "GPS.h"
   2          
   3          char idata gpsRxBuffer[gpsRxBufferLength];
   4          unsigned char RX_Count = 0;
   5          unsigned dayplus=0;
   6          _SaveData Save_Data;
   7          
   8          void Uart_Init()                                   
   9          {
  10   1          SCON = 0X50;  //UARTÊñπÂºè1Ôºõ8‰ΩçUART
  11   1          REN  = 1;     //ÂÖÅËÆ∏‰∏≤Ë°åÂè£Êé•Êî∂Êï∞ÊçÆ
  12   1          PCON = 0x00;  //SMOD=0;Ê≥¢ÁâπÁéá‰∏çÂä†ÂÄç
  13   1          TMOD = 0x20;  //T1ÊñπÂºè2ÔºåÁî®‰∫é‰∫ßÁîüÊ≥¢ÁâπÁéá
  14   1          TH1  = 0xFD;  //Ë£ÖÂàùÂÄº
  15   1          TL1  = 0xFD;
  16   1          TR1  = 1;     //ÂêØÂä®ÂÆöÊó∂Âô®1
  17   1          EA   = 1;     //ÊâìÂºÄÂÖ®Â±Ä‰∏≠Êñ≠ÊéßÂà∂
  18   1          ES   = 1;     //ÊâìÂºÄ‰∏≤Ë°åÂè£‰∏≠Êñ≠   
  19   1          clrStruct();
  20   1      }
  21          
  22          
  23          void RECEIVE_DATA(void) interrupt 4 using 3         
  24          { 
  25   1          unsigned char temp = 0;
  26   1          char i = 0;
  27   1          ES=0;
  28   1          temp = SBUF;
  29   1          RI = 0;
  30   1          if(temp == '$')
  31   1          {
  32   2              RX_Count = 0;   
  33   2          }
  34   1              
  35   1          if(RX_Count <= 5)
  36   1          {
  37   2             gpsRxBuffer[RX_Count++] = temp;
  38   2          }
  39   1          else if(gpsRxBuffer[0] == '$' && gpsRxBuffer[4] == 'M' && gpsRxBuffer[5] == 'C')            //Á°ÆÂÆöÊòØÂê¶Êî∂Âà∞"G
             -PRMC/GNRMC"Ëøô‰∏ÄÂ∏ßÊï∞ÊçÆ
  40   1          {
  41   2              gpsRxBuffer[RX_Count++] = temp;
  42   2              if(temp == '\n')                                       
  43   2              {
  44   3                  memset(Save_Data.GPS_Buffer, 0, GPS_Buffer_Length);      //Ê∏ÖÁ©∫
  45   3                  memcpy(Save_Data.GPS_Buffer, gpsRxBuffer, RX_Count);    //‰øùÂ≠òÊï∞ÊçÆ
  46   3                  Save_Data.isGetData = true;
  47   3                  RX_Count = 0;
  48   3                  memset(gpsRxBuffer, 0, gpsRxBufferLength);      //Ê∏ÖÁ©∫                
  49   3              }
  50   2              
  51   2              if(RX_Count >= 75)
C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 2   

  52   2              {
  53   3                  RX_Count = 75;
  54   3                  gpsRxBuffer[RX_Count] = '\0';//Ê∑ªÂä†ÁªìÊùüÁ¨¶
  55   3              }           
  56   2          }
  57   1          ES=1; 
  58   1      }
  59          
  60          void clrStruct()
  61          {
  62   1          Save_Data.isGetData = false;
  63   1          Save_Data.isParseData = false;
  64   1          Save_Data.isUsefull = false;
  65   1          memset(Save_Data.GPS_Buffer, 0, GPS_Buffer_Length);      //Ê∏ÖÁ©∫
  66   1          memset(Save_Data.UTCTime, 0, UTCTime_Length);
  67   1          memset(Save_Data.latitude, 0, latitude_Length);
  68   1          memset(Save_Data.N_S, 0, N_S_Length);
  69   1          memset(Save_Data.longitude, 0, longitude_Length);
  70   1          memset(Save_Data.E_W, 0, E_W_Length);
  71   1          
  72   1      }
  73          
  74          void GPS_Handle(void)
  75          {
  76   1          char *subString;
  77   1          char *subStringNext;
  78   1          char i = 0;
  79   1          if (Save_Data.isGetData)
  80   1          {
  81   2              Save_Data.isGetData = false;        
  82   2              for (i = 0 ; i <= 6 ; i++)
  83   2              {
  84   3                  if (i == 0)
  85   3                  {
  86   4                      if ((subString = strstr(Save_Data.GPS_Buffer, ",")) == NULL)
  87   4                              ;
  88   4                  }
  89   3                  else
  90   3                  {
  91   4                      subString++;
  92   4                      if ((subStringNext = strstr(subString, ",")) != NULL)
  93   4                      {
  94   5                          char usefullBuffer[2]; 
  95   5                          switch(i)
  96   5                          {
  97   6                              case 1:memcpy(Save_Data.UTCTime, subString, subStringNext - subString);break;   //Ëé∑ÂèñUTCÊó∂Èó¥
  98   6                              case 2:memcpy(usefullBuffer, subString, subStringNext - subString);;break;  //Ëé∑ÂèñUTCÊó∂Èó¥
  99   6                              case 3:memcpy(Save_Data.latitude, subString, subStringNext - subString);break;  //Ëé∑ÂèñÁ∫¨Â∫¶‰ø°ÊÅØ
 100   6                              case 4:memcpy(Save_Data.N_S, subString, subStringNext - subString);break;   //Ëé∑ÂèñN/S
 101   6                              case 5:memcpy(Save_Data.longitude, subString, subStringNext - subString);break; //Ëé∑ÂèñÁªèÂ∫¶‰ø°ÊÅØ
 102   6                              case 6:memcpy(Save_Data.E_W, subString, subStringNext - subString);break;   //Ëé∑ÂèñE/W
 103   6      
 104   6                              default:break;
 105   6                          }
 106   5                          subString = subStringNext;
 107   5                          Save_Data.isParseData = true;
 108   5                          if(usefullBuffer[0] == 'A')
 109   5                              Save_Data.isUsefull = true;
 110   5                          else if(usefullBuffer[0] == 'V')
 111   5                              Save_Data.isUsefull = false;
 112   5      
 113   5                      }
C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 3   

 114   4                  }
 115   3              }
 116   2          }
 117   1      }
 118          
C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 4   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION Uart_Init (BEGIN)
                                           ; SOURCE LINE # 8
                                           ; SOURCE LINE # 9
                                           ; SOURCE LINE # 10
0000 759850            MOV     SCON,#050H
                                           ; SOURCE LINE # 11
0003 D29C              SETB    REN
                                           ; SOURCE LINE # 12
0005 E4                CLR     A
0006 F587              MOV     PCON,A
                                           ; SOURCE LINE # 13
0008 758920            MOV     TMOD,#020H
                                           ; SOURCE LINE # 14
000B 758DFD            MOV     TH1,#0FDH
                                           ; SOURCE LINE # 15
000E 758BFD            MOV     TL1,#0FDH
                                           ; SOURCE LINE # 16
0011 D28E              SETB    TR1
                                           ; SOURCE LINE # 17
0013 D2AF              SETB    EA
                                           ; SOURCE LINE # 18
0015 D2AC              SETB    ES
                                           ; SOURCE LINE # 19
0017 020000      R     LJMP    clrStruct
             ; FUNCTION Uart_Init (END)

             ; FUNCTION RECEIVE_DATA (BEGIN)
0000 C0E0              PUSH    ACC
0002 C0F0              PUSH    B
0004 C083              PUSH    DPH
0006 C082              PUSH    DPL
0008 C0D0              PUSH    PSW
000A 75D018            MOV     PSW,#018H
                                           ; SOURCE LINE # 23
                                           ; SOURCE LINE # 25
;---- Variable 'temp' assigned to Register 'R7' ----
000D E4                CLR     A
                                           ; SOURCE LINE # 26
000E F500        R     MOV     i,A
                                           ; SOURCE LINE # 27
0010 C2AC              CLR     ES
                                           ; SOURCE LINE # 28
0012 AF99              MOV     R7,SBUF
                                           ; SOURCE LINE # 29
0014 C298              CLR     RI
                                           ; SOURCE LINE # 30
0016 BF2402            CJNE    R7,#024H,?C0002
                                           ; SOURCE LINE # 31
                                           ; SOURCE LINE # 32
0019 F500        R     MOV     RX_Count,A
                                           ; SOURCE LINE # 33
001B         ?C0002:
                                           ; SOURCE LINE # 35
001B E500        R     MOV     A,RX_Count
001D D3                SETB    C
001E 9405              SUBB    A,#05H
0020 7480              MOV     A,#080H
0022 9480              SUBB    A,#080H
0024 500C              JNC     ?C0003
C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 5   

                                           ; SOURCE LINE # 36
                                           ; SOURCE LINE # 37
0026 AE00        R     MOV     R6,RX_Count
0028 0500        R     INC     RX_Count
002A 7400        R     MOV     A,#LOW gpsRxBuffer
002C 2E                ADD     A,R6
002D F8                MOV     R0,A
002E A61F              MOV     @R0,AR7
                                           ; SOURCE LINE # 38
0030 8070              SJMP    ?C0004
0032         ?C0003:
                                           ; SOURCE LINE # 39
0032 7800        R     MOV     R0,#LOW gpsRxBuffer
0034 E6                MOV     A,@R0
0035 6424              XRL     A,#024H
0037 7069              JNZ     ?C0004
0039 7800        R     MOV     R0,#LOW gpsRxBuffer+04H
003B E6                MOV     A,@R0
003C 644D              XRL     A,#04DH
003E 7062              JNZ     ?C0004
0040 08                INC     R0
0041 E6                MOV     A,@R0
0042 6443              XRL     A,#043H
0044 705C              JNZ     ?C0004
                                           ; SOURCE LINE # 40
                                           ; SOURCE LINE # 41
0046 AE00        R     MOV     R6,RX_Count
0048 0500        R     INC     RX_Count
004A 7400        R     MOV     A,#LOW gpsRxBuffer
004C 2E                ADD     A,R6
004D F8                MOV     R0,A
004E A61F              MOV     @R0,AR7
                                           ; SOURCE LINE # 42
0050 EF                MOV     A,R7
0051 640A              XRL     A,#0AH
0053 7038              JNZ     ?C0006
                                           ; SOURCE LINE # 43
                                           ; SOURCE LINE # 44
0055 FE                MOV     R6,A
0056 7F50              MOV     R7,#050H
0058 FD                MOV     R5,A
0059 7B01              MOV     R3,#01H
005B 7A00        R     MOV     R2,#HIGH Save_Data
005D 7900        R     MOV     R1,#LOW Save_Data
005F 120000      E     LCALL   ?C?MEMSET
                                           ; SOURCE LINE # 45
0062 AF00        R     MOV     R7,RX_Count
0064 7E00              MOV     R6,#00H
0066 7800        R     MOV     R0,#LOW Save_Data
0068 7C00        R     MOV     R4,#HIGH Save_Data
006A 7D01              MOV     R5,#01H
006C 7B00              MOV     R3,#00H
006E 7A00        R     MOV     R2,#HIGH gpsRxBuffer
0070 7900        R     MOV     R1,#LOW gpsRxBuffer
0072 120000      E     LCALL   ?C?COPY
                                           ; SOURCE LINE # 46
0075 900000      R     MOV     DPTR,#Save_Data+050H
0078 7401              MOV     A,#01H
007A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 47
007B 750000      R     MOV     RX_Count,#00H
                                           ; SOURCE LINE # 48
C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 6   

007E 7E00              MOV     R6,#00H
0080 7F4C              MOV     R7,#04CH
0082 7D00              MOV     R5,#00H
0084 7B00              MOV     R3,#00H
0086 7A00        R     MOV     R2,#HIGH gpsRxBuffer
0088 7900        R     MOV     R1,#LOW gpsRxBuffer
008A 120000      E     LCALL   ?C?MEMSET
                                           ; SOURCE LINE # 49
008D         ?C0006:
                                           ; SOURCE LINE # 51
008D C3                CLR     C
008E E500        R     MOV     A,RX_Count
0090 944B              SUBB    A,#04BH
0092 7480              MOV     A,#080H
0094 9480              SUBB    A,#080H
0096 400A              JC      ?C0004
                                           ; SOURCE LINE # 52
                                           ; SOURCE LINE # 53
0098 75004B      R     MOV     RX_Count,#04BH
                                           ; SOURCE LINE # 54
009B 7400        R     MOV     A,#LOW gpsRxBuffer
009D 2500        R     ADD     A,RX_Count
009F F8                MOV     R0,A
00A0 7600              MOV     @R0,#00H
                                           ; SOURCE LINE # 55
                                           ; SOURCE LINE # 56
00A2         ?C0004:
                                           ; SOURCE LINE # 57
00A2 D2AC              SETB    ES
                                           ; SOURCE LINE # 58
00A4 D0D0              POP     PSW
00A6 D082              POP     DPL
00A8 D083              POP     DPH
00AA D0F0              POP     B
00AC D0E0              POP     ACC
00AE 32                RETI    
             ; FUNCTION RECEIVE_DATA (END)

             ; FUNCTION clrStruct (BEGIN)
                                           ; SOURCE LINE # 60
                                           ; SOURCE LINE # 61
                                           ; SOURCE LINE # 62
0000 E4                CLR     A
0001 900000      R     MOV     DPTR,#Save_Data+050H
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 63
0005 A3                INC     DPTR
0006 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 64
0007 900000      R     MOV     DPTR,#Save_Data+078H
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 65
000B FE                MOV     R6,A
000C 7F50              MOV     R7,#050H
000E FD                MOV     R5,A
000F 7B01              MOV     R3,#01H
0011 7A00        R     MOV     R2,#HIGH Save_Data
0013 7900        R     MOV     R1,#LOW Save_Data
0015 120000      E     LCALL   ?C?MEMSET
                                           ; SOURCE LINE # 66
0018 7E00              MOV     R6,#00H
001A 7F0B              MOV     R7,#0BH
C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 7   

001C 7D00              MOV     R5,#00H
001E 7B01              MOV     R3,#01H
0020 7A00        R     MOV     R2,#HIGH Save_Data+052H
0022 7900        R     MOV     R1,#LOW Save_Data+052H
0024 120000      E     LCALL   ?C?MEMSET
                                           ; SOURCE LINE # 67
0027 7E00              MOV     R6,#00H
0029 7F0B              MOV     R7,#0BH
002B 7D00              MOV     R5,#00H
002D 7B01              MOV     R3,#01H
002F 7A00        R     MOV     R2,#HIGH Save_Data+05DH
0031 7900        R     MOV     R1,#LOW Save_Data+05DH
0033 120000      E     LCALL   ?C?MEMSET
                                           ; SOURCE LINE # 68
0036 7E00              MOV     R6,#00H
0038 7F02              MOV     R7,#02H
003A 7D00              MOV     R5,#00H
003C 7B01              MOV     R3,#01H
003E 7A00        R     MOV     R2,#HIGH Save_Data+068H
0040 7900        R     MOV     R1,#LOW Save_Data+068H
0042 120000      E     LCALL   ?C?MEMSET
                                           ; SOURCE LINE # 69
0045 7E00              MOV     R6,#00H
0047 7F0C              MOV     R7,#0CH
0049 7D00              MOV     R5,#00H
004B 7B01              MOV     R3,#01H
004D 7A00        R     MOV     R2,#HIGH Save_Data+06AH
004F 7900        R     MOV     R1,#LOW Save_Data+06AH
0051 120000      E     LCALL   ?C?MEMSET
                                           ; SOURCE LINE # 70
0054 7E00              MOV     R6,#00H
0056 7F02              MOV     R7,#02H
0058 7D00              MOV     R5,#00H
005A 7B01              MOV     R3,#01H
005C 7A00        R     MOV     R2,#HIGH Save_Data+076H
005E 7900        R     MOV     R1,#LOW Save_Data+076H
0060 020000      E     LJMP    ?C?MEMSET
             ; FUNCTION clrStruct (END)

             ; FUNCTION GPS_Handle (BEGIN)
                                           ; SOURCE LINE # 74
                                           ; SOURCE LINE # 75
                                           ; SOURCE LINE # 78
0000 E4                CLR     A
0001 F500        R     MOV     i,A
                                           ; SOURCE LINE # 79
0003 900000      R     MOV     DPTR,#Save_Data+050H
0006 E0                MOVX    A,@DPTR
0007 7003              JNZ     $ + 5H
0009 020000      R     LJMP    ?C0029
                                           ; SOURCE LINE # 80
                                           ; SOURCE LINE # 81
000C E4                CLR     A
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 82
000E F500        R     MOV     i,A
0010         ?C0011:
0010 AF00        R     MOV     R7,i
0012 EF                MOV     A,R7
0013 33                RLC     A
0014 95E0              SUBB    A,ACC
0016 FE                MOV     R6,A
C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 8   

0017 D3                SETB    C
0018 EF                MOV     A,R7
0019 9406              SUBB    A,#06H
001B EE                MOV     A,R6
001C 6480              XRL     A,#080H
001E 9480              SUBB    A,#080H
0020 4003              JC      $ + 5H
0022 020000      R     LJMP    ?C0029
                                           ; SOURCE LINE # 83
                                           ; SOURCE LINE # 84
0025 EF                MOV     A,R7
0026 4E                ORL     A,R6
0027 701E              JNZ     ?C0014
                                           ; SOURCE LINE # 85
                                           ; SOURCE LINE # 86
0029 7500FF      E     MOV     ?_strstr?BYTE+03H,#0FFH
002C 750000      R     MOV     ?_strstr?BYTE+04H,#HIGH ?SC_0
002F 750000      R     MOV     ?_strstr?BYTE+05H,#LOW ?SC_0
0032 7B01              MOV     R3,#01H
0034 7A00        R     MOV     R2,#HIGH Save_Data
0036 7900        R     MOV     R1,#LOW Save_Data
0038 120000      E     LCALL   _strstr
003B 8B00        R     MOV     subString,R3
003D 8A00        R     MOV     subString+01H,R2
003F 8900        R     MOV     subString+02H,R1
0041 E9                MOV     A,R1
0042 4A                ORL     A,R2
0043 4B                ORL     A,R3
                                           ; SOURCE LINE # 88
0044 020000      R     LJMP    ?C0013
0047         ?C0014:
                                           ; SOURCE LINE # 90
                                           ; SOURCE LINE # 91
0047 7401              MOV     A,#01H
0049 2500        R     ADD     A,subString+02H
004B F500        R     MOV     subString+02H,A
004D E4                CLR     A
004E 3500        R     ADDC    A,subString+01H
0050 F500        R     MOV     subString+01H,A
                                           ; SOURCE LINE # 92
0052 7500FF      E     MOV     ?_strstr?BYTE+03H,#0FFH
0055 750000      R     MOV     ?_strstr?BYTE+04H,#HIGH ?SC_0
0058 750000      R     MOV     ?_strstr?BYTE+05H,#LOW ?SC_0
005B AB00        R     MOV     R3,subString
005D FA                MOV     R2,A
005E A900        R     MOV     R1,subString+02H
0060 120000      E     LCALL   _strstr
0063 8B00        R     MOV     subStringNext,R3
0065 8A00        R     MOV     subStringNext+01H,R2
0067 8900        R     MOV     subStringNext+02H,R1
0069 E9                MOV     A,R1
006A 4A                ORL     A,R2
006B 4B                ORL     A,R3
006C 7003              JNZ     $ + 5H
006E 020000      R     LJMP    ?C0013
                                           ; SOURCE LINE # 93
                                           ; SOURCE LINE # 95
0071 E500        R     MOV     A,i
0073 24FE              ADD     A,#0FEH
0075 6021              JZ      ?C0020
0077 14                DEC     A
0078 6031              JZ      ?C0021
C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 9   

007A 14                DEC     A
007B 6041              JZ      ?C0022
007D 14                DEC     A
007E 6051              JZ      ?C0023
0080 14                DEC     A
0081 6061              JZ      ?C0024
0083 2405              ADD     A,#05H
0085 7077              JNZ     ?C0018
                                           ; SOURCE LINE # 96
                                           ; SOURCE LINE # 97
0087         ?C0019:
0087 C3                CLR     C
0088 E500        R     MOV     A,subStringNext+02H
008A 9500        R     SUBB    A,subString+02H
008C FF                MOV     R7,A
008D E500        R     MOV     A,subStringNext+01H
008F 9500        R     SUBB    A,subString+01H
0091 FE                MOV     R6,A
0092 7800        R     MOV     R0,#LOW Save_Data+052H
0094 7C00        R     MOV     R4,#HIGH Save_Data+052H
0096 8022              SJMP    ?C0032
                                           ; SOURCE LINE # 98
0098         ?C0020:
0098 C3                CLR     C
0099 E500        R     MOV     A,subStringNext+02H
009B 9500        R     SUBB    A,subString+02H
009D FF                MOV     R7,A
009E E500        R     MOV     A,subStringNext+01H
00A0 9500        R     SUBB    A,subString+01H
00A2 FE                MOV     R6,A
00A3 7800        R     MOV     R0,#LOW usefullBuffer
00A5 7C00        R     MOV     R4,#HIGH usefullBuffer
00A7 7D00              MOV     R5,#00H
00A9 804A              SJMP    ?C0036
                                           ; SOURCE LINE # 99
00AB         ?C0021:
00AB C3                CLR     C
00AC E500        R     MOV     A,subStringNext+02H
00AE 9500        R     SUBB    A,subString+02H
00B0 FF                MOV     R7,A
00B1 E500        R     MOV     A,subStringNext+01H
00B3 9500        R     SUBB    A,subString+01H
00B5 FE                MOV     R6,A
00B6 7800        R     MOV     R0,#LOW Save_Data+05DH
00B8 7C00        R     MOV     R4,#HIGH Save_Data+05DH
00BA         ?C0032:
00BA 7D01              MOV     R5,#01H
00BC         ?C0033:
00BC 8037              SJMP    ?C0036
                                           ; SOURCE LINE # 100
00BE         ?C0022:
00BE C3                CLR     C
00BF E500        R     MOV     A,subStringNext+02H
00C1 9500        R     SUBB    A,subString+02H
00C3 FF                MOV     R7,A
00C4 E500        R     MOV     A,subStringNext+01H
00C6 9500        R     SUBB    A,subString+01H
00C8 FE                MOV     R6,A
00C9 7800        R     MOV     R0,#LOW Save_Data+068H
00CB 7C00        R     MOV     R4,#HIGH Save_Data+068H
00CD 7D01              MOV     R5,#01H
00CF         ?C0034:
C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 10  

00CF 8024              SJMP    ?C0036
                                           ; SOURCE LINE # 101
00D1         ?C0023:
00D1 C3                CLR     C
00D2 E500        R     MOV     A,subStringNext+02H
00D4 9500        R     SUBB    A,subString+02H
00D6 FF                MOV     R7,A
00D7 E500        R     MOV     A,subStringNext+01H
00D9 9500        R     SUBB    A,subString+01H
00DB FE                MOV     R6,A
00DC 7800        R     MOV     R0,#LOW Save_Data+06AH
00DE 7C00        R     MOV     R4,#HIGH Save_Data+06AH
00E0 7D01              MOV     R5,#01H
00E2         ?C0035:
00E2 8011              SJMP    ?C0036
                                           ; SOURCE LINE # 102
00E4         ?C0024:
00E4 C3                CLR     C
00E5 E500        R     MOV     A,subStringNext+02H
00E7 9500        R     SUBB    A,subString+02H
00E9 FF                MOV     R7,A
00EA E500        R     MOV     A,subStringNext+01H
00EC 9500        R     SUBB    A,subString+01H
00EE FE                MOV     R6,A
00EF 7800        R     MOV     R0,#LOW Save_Data+076H
00F1 7C00        R     MOV     R4,#HIGH Save_Data+076H
00F3 7D01              MOV     R5,#01H
00F5         ?C0036:
00F5 AB00        R     MOV     R3,subString
00F7 AA00        R     MOV     R2,subString+01H
00F9 A900        R     MOV     R1,subString+02H
00FB 120000      E     LCALL   ?C?COPY
                                           ; SOURCE LINE # 104
                                           ; SOURCE LINE # 105
00FE         ?C0018:
                                           ; SOURCE LINE # 106
00FE 850000      R     MOV     subString,subStringNext
0101 850000      R     MOV     subString+01H,subStringNext+01H
0104 850000      R     MOV     subString+02H,subStringNext+02H
                                           ; SOURCE LINE # 107
0107 900000      R     MOV     DPTR,#Save_Data+051H
010A 7401              MOV     A,#01H
010C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 108
010D E500        R     MOV     A,usefullBuffer
010F B44108            CJNE    A,#041H,?C0026
                                           ; SOURCE LINE # 109
0112 900000      R     MOV     DPTR,#Save_Data+078H
0115 7401              MOV     A,#01H
0117 F0                MOVX    @DPTR,A
0118 800A              SJMP    ?C0013
011A         ?C0026:
                                           ; SOURCE LINE # 110
011A E500        R     MOV     A,usefullBuffer
011C B45605            CJNE    A,#056H,?C0013
                                           ; SOURCE LINE # 111
011F E4                CLR     A
0120 900000      R     MOV     DPTR,#Save_Data+078H
0123 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 113
                                           ; SOURCE LINE # 114
                                           ; SOURCE LINE # 115
C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 11  

0124         ?C0013:
0124 0500        R     INC     i
0126 020000      R     LJMP    ?C0011
                                           ; SOURCE LINE # 116
                                           ; SOURCE LINE # 117
0129         ?C0029:
0129 22                RET     
             ; FUNCTION GPS_Handle (END)

C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 12  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


OLED_RST . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B5H  1
P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
RECEIVE_DATA . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  temp . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   001FH  1
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   CHAR     0000H  1
P2 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A0H  1
P3 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B0H  1
T0 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B4H  1
AC . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D6H  1
T1 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B5H  1
T2 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0090H  1
EA . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
dayplus. . . . . . . . . . . . . . . .  PUBLIC   DATA   U_INT    0000H  2
OLED_DC. . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B4H  1
SaveData . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  121
  GPS_Buffer . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  80
  isGetData. . . . . . . . . . . . . .  MEMBER   -----  CHAR     0050H  1
  isParseData. . . . . . . . . . . . .  MEMBER   -----  CHAR     0051H  1
  UTCTime. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0052H  11
  latitude . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    005DH  11
  N_S. . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0068H  2
  longitude. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    006AH  12
  E_W. . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0076H  2
  isUsefull. . . . . . . . . . . . . .  MEMBER   -----  CHAR     0078H  1
IE . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A8H  1
size_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
Uart_Init. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
EXF2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CEH  1
RD . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B7H  1
RX_Count . . . . . . . . . . . . . . .  PUBLIC   DATA   U_CHAR   0002H  1
ES . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ACH  1
IP . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B8H  1
GPS_Handle . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  usefullBuffer. . . . . . . . . . . .  AUTO     DATA   ARRAY    0007H  2
  subString. . . . . . . . . . . . . .  AUTO     DATA   PTR      0000H  3
  subStringNext. . . . . . . . . . . .  AUTO     DATA   PTR      0003H  3
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   CHAR     0006H  1
RI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0098H  1
OLED_CS. . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B3H  1
INT0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B2H  1
CY . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D7H  1
TI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0099H  1
INT1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B3H  1
RCAP2H . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CBH  1
PS . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BCH  1
SP . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0081H  1
T2EX . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0091H  1
OV . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D2H  1
RCAP2L . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CAH  1
C_T2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C9H  1
WR . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B6H  1
RCLK . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CDH  1
TCLK . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CCH  1
SBUF . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0099H  1
PCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0087H  1
SCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0098H  1
C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 13  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


OLED_SDIN. . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B6H  1
TMOD . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0089H  1
TCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0088H  1
_strstr. . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
IE0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0089H  1
IE1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008BH  1
B. . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F0H  1
CP_RL2 . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C8H  1
ACC. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E0H  1
ET0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A9H  1
ET1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ABH  1
TF0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008DH  1
ET2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ADH  1
TF1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008FH  1
clrStruct. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
TF2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CFH  1
RB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009AH  1
TH0. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008CH  1
EX0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A8H  1
IT0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0088H  1
TH1. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008DH  1
TB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009BH  1
EX1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AAH  1
IT1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008AH  1
TH2. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CDH  1
P. . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D0H  1
SM0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009FH  1
TL0. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008AH  1
SM1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009EH  1
TL1. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008BH  1
SM2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009DH  1
TL2. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CCH  1
PT0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B9H  1
PT1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BBH  1
RS0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D3H  1
PT2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BDH  1
TR0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008CH  1
RS1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D4H  1
TR1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008EH  1
TR2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CAH  1
PX0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B8H  1
PX1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BAH  1
DPH. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0083H  1
DPL. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0082H  1
EXEN2. . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CBH  1
REN. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009CH  1
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
OLED_SCL . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B7H  1
wchar_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
Save_Data. . . . . . . . . . . . . . .  PUBLIC   XDATA  STRUCT   0000H  121
_SaveData. . . . . . . . . . . . . . .  TYPEDEF  XDATA  STRUCT   -----  121
  GPS_Buffer . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  80
  isGetData. . . . . . . . . . . . . .  MEMBER   -----  CHAR     0050H  1
  isParseData. . . . . . . . . . . . .  MEMBER   -----  CHAR     0051H  1
  UTCTime. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0052H  11
  latitude . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    005DH  11
  N_S. . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0068H  2
C51 COMPILER V9.60.0.0   GPS                                                               03/10/2022 00:19:06 PAGE 14  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  longitude. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    006AH  12
  E_W. . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0076H  2
  isUsefull. . . . . . . . . . . . . .  MEMBER   -----  CHAR     0078H  1
RXD. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B0H  1
TXD. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B1H  1
gpsRxBuffer. . . . . . . . . . . . . .  PUBLIC   IDATA  ARRAY    0000H  76
F0 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D5H  1
PSW. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D0H  1


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    601    ----
   CONSTANT SIZE    =      2    ----
   XDATA SIZE       =    121    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3      10
   IDATA SIZE       =     76    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
